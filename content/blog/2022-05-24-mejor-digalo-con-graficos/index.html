---
title: "{ES} Mejor d√≠galo con gr√°ficos"
layout: single-sidebar
excerpt: "Una introducci√≥n a los incre√≠bles gr√°ficos de barras. ¬°Tan simple, pero comunican mucho!"
author: Eliana F. Burgos
date: '2022-05-24'
slug: IntroGitHub
categories: 
  - ES
  - ggplot
  - R base
  - gr√°ficos
tags: 
  - ES
  - ggplot
  - R base
  - gr√°ficos
images: ~
series: ~
alt: ''
featured: yes
draft: no
image:
  focal_point: 'Center'
  preview_only: no
lastmod: '2022-05-24'
---



<div id="qu√©-es-un-gr√°fico-estad√≠stico-y-para-qu√©-nos-sirven" class="section level2">
<h2>¬øQu√© es un gr√°fico estad√≠stico y para qu√© nos sirven? üìä</h2>
<p>Los gr√°ficos estad√≠sticos son <strong>representaciones visuales</strong> de nuestros datos y resultados estad√≠sticos. Nos sirven para expresar de manera gr√°fica (valga la redundancia) tanto las medidas descriptivas b√°sicas como estad√≠sticos asociados a modelos o simulaciones m√°s complejas.</p>
<p>Un buen gr√°fico, adem√°s de representar de manera clara nuestros datos y su informaci√≥n asociada, nos permite realizar comparaciones, destacar tendencias de los datos e ilustrarlas llamando la atenci√≥n del lector.</p>
<p>Para que un gr√°fico sea realmente <strong>representativo e informativo</strong>, no solo debemos estar atentos a brindar la mayor cantidad de informaci√≥n posible en √©l, sino que adem√°s, debemos elegir el gr√°fico adecuado para el tipo de variable que queremos visualizar (o interacci√≥n si fuera m√°s de una variable).</p>
<p>Como sabemos, podemos tener variables <strong>cualitativas</strong> (ordinales o nominales), y variables <strong>cuantitativas</strong> (discretas o continuas). No todos los gr√°ficos permiten visualizar de manera sencilla y sin errores todos los tipos de datos.</p>
<p>Empezando por el principio, veamos un par de ejemplos de graficos para variables cualitativas. Primero repasaremos las opciones existentes con <a href="https://rstudio-pubs-static.s3.amazonaws.com/84527_6b8334fd3d9348579681b24d156e7e9d.html"><strong>R base</strong></a> y luego con la librer√≠a <a href="https://ggplot2.tidyverse.org/reference/ggplot.html"><strong>ggplot2</strong></a><strong>.</strong></p>
</div>
<div id="gr√°ficos-para-una-variable-cualitativa" class="section level2">
<h2>Gr√°ficos para una variable cualitativa</h2>
<p><strong>Barplot</strong></p>
<p>El <strong>barplot</strong>, o gr√°fico de <strong>barras</strong> o <strong>columnas</strong>, es uno de los gr√°ficos m√°s utilizados y representa visualmente una variable cualitativa (o categ√≥rica; eje x) y una cuantitativa (o num√©rica; eje y).</p>
<p>Veamos un ejemplo con el comando <code>barplot().</code></p>
<p>Vamos a crear un vector con nuestra variable cualitativa a la que llamaremos <em>‚Äútratamiento‚Äù</em>. Luego, calcularemos las frecuencias de cada nivel de nuestra variable, es decir, cu√°ntas veces se repite ‚ÄúA‚Äù, cuantas se repite ‚ÄúB‚Äù, etc.</p>
<pre class="r"><code>tratamiento &lt;- as.factor(sample(c(&quot;A&quot;,&quot;B&quot;, &quot;C&quot;, &quot;D&quot;), size =30, replace = TRUE))    
frec.tratam &lt;- table(tratamiento)
frec.tratam</code></pre>
<pre><code>## tratamiento
##  A  B  C  D 
##  9  6  5 10</code></pre>
<p>Por √∫ltimo graficamos.</p>
<pre class="r"><code>barplot(frec.tratam)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>Como dijimos al comienzo de este post, un grafico tiene que ser representativo de la informaci√≥n que quiero visualizar. Por lo que siempre tiene que ir acompa√±ado de los <strong>nombres de ejes</strong> y en lo posible un <strong>t√≠tulo</strong>.</p>
<pre class="r"><code>barplot(frec.tratam,
        xlab = &quot;Tratamiento&quot;, #nombre al eje x
       ylab= &quot;Frecuencia&quot;,#nombre del eje Y 
       main= &quot;Tratamientos finalizados&quot;# t√≠tulo del gr√°fico
       ) </code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>Los colores por defecto son en escalas de grises, a menos que especifiquemos lo contrario. Podemos indicar qu√© colores queremos de la siguiente forma:</p>
<pre class="r"><code>barplot(frec.tratam,
        xlab = &quot;Tratamiento&quot;, #nombre al eje x
       ylab= &quot;Frecuencia&quot;,#nombre del eje Y 
       main= &quot;Tratamientos finalizados&quot;,# t√≠tulo del gr√°fico
       col= &quot;red&quot;, #color de las barras
       ) </code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>Si quisieramos que cada tratamiento tenga un color espec√≠fico, por ejemplo que ‚ÄúA‚Äù sea negro, ‚ÄúB‚Äù gris, ‚ÄúC‚Äù azul y ‚ÄúD‚Äù rojo, tenemos que indicarlo en el orden en que R identifica los niveles de la variable, en esta caso, en orden alfab√©tico. Veamos como programarlo:</p>
<pre class="r"><code>barplot(frec.tratam,
        xlab = &quot;Tratamiento&quot;, #nombre al eje x
       ylab= &quot;Frecuencia&quot;,#nombre del eje Y 
       main= &quot;Tratamientos finalizados&quot;,# t√≠tulo del gr√°fico
       col= c(&quot;black&quot;, &quot;grey&quot;, &quot;blue&quot;, &quot;red&quot;)#color de las barras 
       ) </code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>Tambi√©n podemos colorear las barres con otra gama de colores que podemos visualizar en: <a href="https://r-graph-gallery.com/ggplot2-color.html" class="uri">https://r-graph-gallery.com/ggplot2-color.html</a>.</p>
<pre class="r"><code>barplot(frec.tratam,
        xlab = &quot;Tratamiento&quot;, #nombre al eje x
       ylab= &quot;Frecuencia&quot;,#nombre del eje Y 
       main= &quot;Tratamientos finalizados&quot;,# t√≠tulo del gr√°fico
       col= c(&quot;cyan1&quot;, &quot;coral1&quot;, &quot;darkorchid1&quot;, &quot;darkseagreen3&quot;)#color de las barras 
       ) </code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>Podemos modificar los bordes para que sean del mismo color de relleno de la siguiente forma:</p>
<pre class="r"><code>barplot(frec.tratam,
        xlab = &quot;Tratamiento&quot;, #nombre al eje x
       ylab= &quot;Frecuencia&quot;,#nombre del eje Y 
       main= &quot;Tratamientos finalizados&quot;,# t√≠tulo del gr√°fico
       col= c(&quot;cyan1&quot;, &quot;coral1&quot;, &quot;darkorchid1&quot;, &quot;darkseagreen3&quot;),#defino los bordes#color de las barras
        border=c(&quot;cyan1&quot;, &quot;coral1&quot;, &quot;darkorchid1&quot;, &quot;darkseagreen3&quot;) #defino el color de los bordes
       ) </code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>Adem√°s puedo definir el ancho de nuestras barras:</p>
<pre class="r"><code>barplot(frec.tratam,
        xlab = &quot;Tratamiento&quot;, #nombre al eje x
       ylab= &quot;Frecuencia&quot;,#nombre del eje Y 
       main= &quot;Tratamientos finalizados&quot;,# t√≠tulo del gr√°fico
       col= c(&quot;cyan1&quot;, &quot;coral1&quot;, &quot;darkorchid1&quot;, &quot;darkseagreen3&quot;),#defino los bordes#color de las barras
        border=c(&quot;cyan1&quot;, &quot;coral1&quot;, &quot;darkorchid1&quot;, &quot;darkseagreen3&quot;), #defino el color de los bordes
       width= c(0.4,0.8,1,1.2)#cambio el ancho de las barras
        )</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>Y si no nos interesa el ancho de las barras, pero queremos que haya una mayor separaci√≥n entre las mismas usamos el siguiente comandito:</p>
<pre class="r"><code>barplot(frec.tratam,
        xlab = &quot;Tratamiento&quot;, #nombre al eje x
       ylab= &quot;Frecuencia&quot;,#nombre del eje Y 
       main= &quot;Tratamientos finalizados&quot;,# t√≠tulo del gr√°fico
       col= c(&quot;cyan1&quot;, &quot;coral1&quot;, &quot;darkorchid1&quot;, &quot;darkseagreen3&quot;),#defino los bordes#color de las barras
        border=c(&quot;cyan1&quot;, &quot;coral1&quot;, &quot;darkorchid1&quot;, &quot;darkseagreen3&quot;), #defino el color de los bordes
       space=(1)#cambio la separaci√≥n entre barras
        )</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>En el caso de que no queramos colores solidos en nuestras barras, y que quisieramos diferenciales con entramados podemos programarlo de la siguiente forma:</p>
<pre class="r"><code>barplot(frec.tratam,
        xlab = &quot;Tratamiento&quot;, #nombre al eje x
       ylab= &quot;Frecuencia&quot;,#nombre del eje Y 
       main= &quot;Tratamientos finalizados&quot;,# t√≠tulo del gr√°fico
     density=c(18,14,10,14,18), #defino el entramado (cantidad de lineas)
        angle=c(0,45,90,11,36), #defino el angulo del entramado
        col=&quot;black&quot; #color del entramado
        )</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
<div id="barplot-con-ggplot2" class="section level2">
<h2>Barplot con ggplot2</h2>
<p>Para poder graficar con <strong>ggplot2</strong> tenemos que recordar que los gr√°ficos tiene una estructura espec√≠fica y que debemos programar cada elemento del gr√°fico, los cuales son:</p>
<ul>
<li><em>data</em>: nuestra base de datos debe estar configurada como <strong>dataframe</strong>;</li>
<li><em>aesthetics (</em>o <em>aes)</em>: define las relaciones de las variables que queremos graficar, as√≠ como algunos aspectos del gr√°fico;</li>
<li><em>geometrias</em>: especifican cual elemento gr√°fico se utilizar√° para visualizar los datos.</li>
</ul>
<p>Estos elementos se agregan en <em>capas</em> o <em>layers</em> y vamos a ver algunos ejemplos a continuaci√≥n, siguiendo con el dataset que creamos al principio del post.</p>
<p><img src="ge_geom.png" /></p>
<p>Para comenzar, vamos a crear un data frame a partir de nuestros datos de <strong>‚Äútratamiento‚Äù</strong>; luego vamos a cargar la libreria <strong>‚Äúggplot2‚Äù</strong> y realizar un gr√°fico de barras sencillo.</p>
<p>La funci√≥n por defecto de ggplot - para este tipo de grafico - es <code>stat="count"</code>, que cuenta el n√∫mero de observaciones de cada valor, es decir, la frecuencia de dicho dato. Otra opci√≥n es utilizar <code>stat="identity"</code>, que grafica el valor del dato sin modificarlo. Como en este ejemplo estamos utilizando una √∫nica variable que es categ√≥rica, y lo que queremos graficar es su frecuencia, utilizaremos la funcion por defecto.</p>
<pre class="r"><code>## Del vector al dataframe
datos&lt;- as.data.frame(tratamiento)

## Cargue el paquete ggplot
library(ggplot2)

## ¬°Y crea el gr√°fico!
ggplot(datos) + # defino el data set con el que voy a trabajar
  geom_bar(aes(x=tratamiento)) # defino al geometria del gr√°fico y los ejes</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>Le agregamos los nombres a los ejes, un t√≠tulo a nuestro gr√°fico y definimos las marcas del eje y:</p>
<pre class="r"><code>ggplot(datos) + # defino el data set con el que voy a trabajar
  geom_bar(aes(x=tratamiento)) + #defino al geometria del gr√°fico y los ejes
  xlab(&quot;Tratamientos&quot;) + # agrego el nombre del eje X
  ylab (&quot;Frecuencia&quot;) + # agrego el nombre del eje Y
  ggtitle(&quot;Tratamientos finalizados&quot;) + # agrego el t√≠tulo
  scale_y_continuous(breaks = c(0,1,2,3, 4,5, 6,7,8,9,10)) # establezco donde estan mis marcas del eje y</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>Con el comando <code>theme()</code> podemos modificar varios elementos est√©ticos del gr√°fico y utilizar temas ya creados. En este ejemplo, usaremos uno de esos temas para modificar el fondo y caja del gr√°fico (Podes consultar otros temas ac√°: <a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="uri">https://ggplot2.tidyverse.org/reference/ggtheme.html</a>).</p>
<pre class="r"><code>ggplot(datos)+#defino el data set con el que voy a trabajar
   geom_bar(aes(x=tratamiento))+ #defino al geometria del gr√°fico y los ejes
  xlab(&quot;Tratamientos&quot;)+#agrego el nombre del eje X
  ylab (&quot;Frecuencia&quot;)+#agrego el nombre del eje Y
  ggtitle(&quot;Tratamientos finalizados&quot;)+   
  scale_y_continuous(breaks = c(0,1,2,3, 4,5, 6,7,8,9,10))+#establezco donde estan mis marcas del eje y#agrego el t√≠tulo
  theme_bw()#defino mi tema </code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>Si queremos cambiar los colores de las barras, tenemos que indicar que queremos que se diferencien nuestras columnas en el <em>aes</em> de la geometria con el comando <code>fill=</code>:</p>
<pre class="r"><code>ggplot(datos) +#defino el data set con el que voy a trabajar
   geom_bar(aes(x=tratamiento), fill=c(&quot;black&quot;, &quot;grey&quot;, &quot;blue&quot;, &quot;red&quot;)) + #defino al geometria del gr√°fico y los ejes
  xlab(&quot;Tratamientos&quot;) +#agrego el nombre del eje X
  ylab (&quot;Frecuencia&quot;) +#agrego el nombre del eje Y
  ggtitle(&quot;Tratamientos finalizados&quot;) +   
  scale_y_continuous(breaks = c(0,1,2,3, 4,5, 6,7,8,9,10)) +#establezco donde estan mis marcas del eje y#agrego el t√≠tulo
  theme_bw()#defino mi tema </code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
</div>
<div id="y-f√≠n" class="section level2">
<h2>¬°Y F√çN!</h2>
<p>Pero cu√©ntanos, ¬øTe gusta trabajar con gr√°ficos? ¬øCu√°l es tu favorito? ¬øCu√°l quieres ver aqu√≠ en el blog? ¬°Deja la sugerencia en nuestras redes sociales (<a href="https://twitter.com/somaquadrados">twitter</a>/<a href="https://www.instagram.com/somaquadrados/">instagram</a>).</p>
<p><img src="featured.jpg" /></p>
</div>
