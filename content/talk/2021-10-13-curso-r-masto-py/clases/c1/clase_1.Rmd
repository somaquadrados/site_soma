---
title: "Programaci√≥n con R"
subtitle: "Clase 1"
author: 
  - "<img src = 'https://github.com/Soma-dos-Quadrados/ArtesSoma/blob/main/simbolo_smfundo4.png?raw=true' width = '25%'>"
  - "Mar√≠lia Melo Favalesso"
output:
  xaringan::moon_reader:
    css: xaringan-themer.css
    nature:
      highlightStyle: github
      highlightLines: true
      ratio: 16:9
---
class: center, middle

```{r global_options, include=FALSE}
knitr::opts_chunk$set(fig.path = 'assets/chunks/', cache.path = "assets/cache/", dpi = 300)
library(tidyverse)
theme_set(theme_grey(base_size = 16))
library(emo)
#devtools::install_github("ropenscilabs/icon")
#devtools::install_github("hadley/emo")
```

## Bienvenid@!!

### ¬°Somos la **Soma dos Quadrados**! 

¬°Nuestro proyecto tiene como objetivo promover la bioestad√≠stica y una programaci√≥n sencilla para los profesionales del gran √°rea de las ciencias biol√≥gicas!

.center[<img src="https://www.somaquadrados.com/about/path58.png" style="width: 25%;">]

Para m√°s informaciones: [https://www.somaquadrados.com/](https://www.somaquadrados.com/)

---
## Introducci√≥n

.center[<img src="figs/33-ini1.png" style="width: 55%;">]

<!--
Antes de comenzar la clase, me gustar√≠a decir esto: la programaci√≥n no es m√°s que una forma de comunicarse con nuestra computadora. Las computadoras, como nosotres, se comunican "por escrito" y los lenguajes de programaci√≥n son el medio para comunicarse con ellas.
-->

---
## Introducci√≥n

.center[<img src="figs/34-ini2.png" style="width: 52%;">]

<!--
Por ejemplo, podemos pedirle a la computadora que calcule una funci√≥n simple escribiendo y ejecutando c√≥digo en el lenguaje R.

Esta informaci√≥n me ayud√≥ a no tener miedo de programar. Aprender un lenguaje de programaci√≥n es como aprender cualquier idioma, como espa√±ol o portugu√©s.
(:
-->

---
## Introducci√≥n

.center[<img src="figs/39-atv.gif" style="width: 85%;">

[`clase_1.R`](clase_1.R)
]

<!--
El script de esta clase est√° disponible en el sitio web del curso (lo dejar√© en la descripci√≥n del video).

Todo lo que les voy a mostrar se describe en este script.
-->

---
## Introducci√≥n
### En nuestras diapositivas

<br>
.center[<img src="figs/38-rstudio.png" style="width: 70%;">]

<!--
Tambi√©n quiero aclararle lo siguiente, en caso de duda: Las √°reas grises en las diapositivas corresponden a los c√≥digos R. Debajo de esta √°rea, despu√©s de los s√≠mbolos "hash", veremos la salida de este c√≥digo.
-->
---
## Introducci√≥n

### ¬øScript mal configurado?

<button type="button">Tools</button> **>** <button type="button">Global options</button> **>** <button type="button">Code</button> **>** <button type="button">Saving</button> **>** <button type="button">Default text enconding</button> **>** select **UTF-8**

.center[<img src="figs/40-utf8.gif" style="width: 70%;">]

<!--
Si abre el script y ve que los acentos no se muestran correctamente o alguna otra configuraci√≥n incorrecta, intente cambiar la codificaci√≥n a UTF-8.
-->

---
## Introducci√≥n

### Sistema de puntuaci√≥n

<br>
.center[<img src="figs/39-pontuacion.png" style="width: 70%;">]
<br>

<!--
Otro dato importante es que R, a diferencia de nosotres, usa el punto como separador decimal y la coma como separador de miles. Es sumamente importante ser consciente de este hecho para que no obtengamos resultados incorrectos.
-->

---
# Script

- [`clase_1.R`](clase_1.R)

# Contenido de hoy

- [Objetos y atribuciones](#objatr)

- [Clases](#clases)

- [Tipos de objetos](#tipos)

- [Manejo de dados](#manejo)

- [Funciones](#funciones)

- [Paquetes](#paquetes)

<!--
En esta clase veremos los siguientes contenidos: Objetivos y asignaciones, clases, tipos de objetos, estructura de control y funciones.
-->

---
name: objatr
class: middle, center

# Objetos y atribuciones

<!--
Comenzando con objetos y asignaciones
-->

---
## Objetos y atribuciones

- Los **objetos** son variables capazes de almacenar cualquier valor o estructura de datos.

<br>
.center[<img src="figs/1-obj.png" style="width: 50%;">]
<br>

```{r}
objeto <- 6 # Guardamos el valor '6' en 'objeto' con '<-'
objeto # Siempre que evaluamos el `objeto`, la R devolver√° el valor 6
```

> El s√≠mbolo **`=`** se puede utilizar en lugar de **`<-`** pero no se recomienda. 

<!--
Los objetos son variables capazes de almacenar cualquier valor o estructura de datos.

Vamos tener un valor asignado - en el ejemplo es el valor 6 -, un operador de asigna√ß√£o - signo menor y guion - y el nombre del objeto - que en nuestro caso es "objeto". 

Al asignar el valor 6 al nombre "objeto", siempre que escribamos "objeto" seguido de CTRL + ENTER, la R devolver√° el valor asignado.

Tambi√©n podemos utilizar el "igual" como s√≠mbolo de asignaci√≥n, pero como escapa a las normas de una buena programaci√≥n con R, se desaconseja su uso.
-->

---
## Objetos y atribuciones

Podemos almacenar el valor de un objeto `k` dentro de un objeto `w`:

.pull-left[
```{r}
k <- 10
k
```
]

.pull-right[
```{r}
w <- k
w
```

]
Podemos usar objetos para realizar operaciones matem√°ticas...

```{r}
(k + w) / 2
```

... y podemos asignar esta operaci√≥n matem√°tica a un nuevo objeto.

```{r}
j <- (k + w) / 2
j
```

<!--
Otra caracter√≠stica importante de los objetos es que podemos almacenar el valor de un objeto en otro.

Por ejemplo, si le asigno el valor 10 al objeto k, y luego le asigno el objeto k al nombre w, w se convierte en 10.

Tambi√©n podemos usar estos objetos en operaciones matem√°ticas y asignar esas operaciones matem√°ticas a un nuevo objeto.
-->
---
## Objetos y atribuciones

**¬°¬°**Cada objeto solo puede almacenar una estructura a la vez (un n√∫mero o una secuencia de valores)**!!**

```{r}
a <- 5
a
```

```{r}
a <- 18
a
```

```{r}
a <- 36
a
```

<!--
Tambi√©n es importante tener en cuenta que los objetos solo pueden almacenar una estructura de valor a la vez.

Suponga que inicialmente establecemos el valor "5" para un objeto llamado "a". Cuando llamo "a" en R, R devolver√° el valor 5, cierto?

Si en un segundo momento asigno la palabra "bien" al objeto "a", cuando llamo a este objeto R devolver√° la palabra "bien" y no el valor 5, ¬øse entiende?

Es como si hubiera sustituido un valor por otro ... En este caso, el √∫ltimo valor asignado siempre ser√° el valor v√°lido!!

¬°Esto es muy, muy importante! Siempre tenemos que estar atentos para no cometer errores al utilizar R.
-->

---
## Reglas para nombrar objetos

1. Pueden estar formados por *letras*, *n√∫meros*, "*_*" y "*.*"

2. **No** se puede empezar con un n√∫mero y/o un punto

3. **No** puede contener espacios

4. Evitar el uso de acentos

5. Evitar el uso de nombres de funciones como:

  > sum, diff, df, var, pt, data, C, etc

6. La **R** distingue entre may√∫sculas y min√∫sculas, por lo que:

  > obj ‚â† Obj ‚â† OBJ

.pull-left[
```{r}
obj <- 2; obj
```
]

.pull-right[
```{r}
OBJ <- 3; OBJ
```
]

<!--
Existen algunas reglas para nombrar objetos en R.

1. El nombre de los objetos pueden estar formados por *letras*, *n√∫meros*, underline y punto.

2. **No** se puede empezar con un n√∫mero y/o un punto

3. **No** puede contener espacios

4. Evitar el uso de acentos

5. Evitar el uso de nombres de funciones como:

  > sum, diff, df, var, pt, data, C, etc

6. La **R** distingue entre may√∫sculas y min√∫sculas, por lo que:

  > obj ‚â† Obj ‚â† OBJ 
-->

---
## Reglas para nombrar objetos

#### Permitido

```{r eval=FALSE, include=TRUE}
a <- 5
a1 <- 5
obj <- 10
mi_obj <- 15
mi.obj <-15
```

#### No permitido

```{r eval=FALSE, include=TRUE}
1a <- 1
a 1 <- 5
_obj <-15
mi-obj <- 15
```


---
## Gestionar el lugar de trabajo

#### Observaci√≥n:

La pesta√±a "**Environmental**" de RStudio muestra los objetos creados en la sesi√≥n actual.

<center>
<img src="figs/2-envi.png" style="width: 75%;">
</center>

---
## Gestionar el lugar de trabajo

Para eliminar objetos: `rm()`:
```{r eval=TRUE, message=FALSE, warning=FALSE, include=TRUE}
rm(a, k) # elimina los objetos a y k
ls() # ¬øQu√© objetos quedan?
```

<!--
Para saber qu√© objetos tengo en mi entorno r, simplemente use la funci√≥n "ls()".

y para eliminar algun objeto, use la funci√≥n "rm()" con el nombre del objeto entre los parentesis. 
-->
---
name: clases
class: middle, center

# Clases 

---
## Clases y tipos de objetos

Los `objetos` tienen tres caracter√≠sticas:

> <big> a <- 1</big>

1. **Nombre** que le damos al objeto (= a)

2. **Contenido** en s√≠ del objeto (= 1)

3. **Atributo** del objeto

  - `Clase`: naturaleza del elementos (1 = numerico)
  - `Estructura`: C√≥mo est√°n organizados los elementos (a = vector)

<!--
Cre√© un objeto en R llamado "A".

Este objeto tiene:

- un nombre = a
- un contenido = b
- y sus atributos.

Los atributos se pueden dividir en "clase" (que es la naturaleza del elemento) y "estructura" (c√≥mo se organizan los elementos).

Veremos a ambos en la continuaci√≥n. 
-->

---
## Clases de objetos

La clase de un objeto es muy importante en **R**! Es a partir de ella que las funciones y los operadores pueden saber *exactamente* qu√© hacer con un objeto. 

--

Por ejemplo, es posible sumar dos objetos num√©ricos,...

```{r}
a <- 1
b <- 2
a + b
```

--

... pero no podemos sumar dos caracteres:
```{r eval=FALSE, include=TRUE}
c <- "c"
d <- "!"
c + d
```

\## simpleError in "c" + "d": argumento no num√©rico para el operador binario.

> **R** verific√≥ la naturaleza de "c" y "d" y las identific√≥ como no num√©ricas.

---
## Clases de objetos

### Objetos at√≥micos

**R** tiene 5 clases b√°sicas de objetos, tambi√©n llamados **objetos at√≥micos**:

.pull-left[
1 - `numeric`: N√∫meros reales, punto flotante (decimales).
```{r}
num <- 1.50
```

2 - `integer`: N√∫meros enteros (poner un L al final)
```{r}
num_int <- 1L
```

3 - `logical`: booleano (True/False).
```{r}
logt <- TRUE
logf <- FALSE
```
]

.pull-right[
4 -  `character`: una cadena de caracteres, com√∫nmente utilizada para representar palabras, frases o texto. Poner entre comillas simple o doble. 
```{r}
ca <- "holla!"
cb <- 'todo bien??'
```

5 - `complex`: Un n√∫mero con partes reales e imaginarias.
```{r}
com <- 1.5 + 2i
```
]

---
## Tipos de objetos

### Conversi√≥n 

- Es posible intentar forzar a un objeto a tener una clase espec√≠fica:

.pull-left[
```{r}
a <- 1; a
```
]

.pull-right[
```{r}
class(a)
```

]

---------------------------------------------

.pull-left[
```{r eval=TRUE, message=FALSE, warning=FALSE, include=TRUE}
a1 <- as.character(a) 
class(a1)

a2 <- as.integer(a)
class(a2)
```
]

.pull-right[
```{r}
a3 <- as.numeric(a)
class(a3)

a4 <- as.logical(a)
class(a4)
```
]
---
name: tipos
class: middle, center

# Tipos de objetos

---
## Tipos de objetos

.pull-left[
- El tipo del objeto est√° relacionado con la **clase** y la **estructura/organizaci√≥n**.

- Pueden estar formados por elementos de la misma clase o de clases diferentes.

- Pueden tener de una hasta n dimensiones.

- En **R** tenemos cinco estructuras:
  - `Vector`
  - `Matrix`
  - `Array`
  - `List`
  - `Data frame`
]

.pull-right[
<img src="figs/3-estruc.png" style="width: 90%;">
</small>
]

---
## Tipos de objetos

.pull-left[
- El tipo del objeto est√° relacionado con la **clase** y la **estructura/organizaci√≥n**.

- Pueden estar formados por elementos de la misma clase o de clases diferentes.

- Pueden tener de una hasta n dimensiones.

- En **R** tenemos cinco estructuras:
  - `Vector`
  - `Matrix`
  - `Array`
  - `List`
  - `Data frame`
]

.pull-right[
<img src="figs/4-struc.png" style="width: 90%;">
</small>
]

---
## Tipos de objetos

### Vetores

- Colecci√≥n **unidimensional** de valores:

.center[<img src="figs/5-vector.png" style="width: 50%;">]

- Almacena datos de una misma clase.

- La forma m√°s sencilla de crear un `vector` es enumerar los valores separados por comas dentro de una `c()`:

.pull-left[
```{r}
area <- c("urb", "rur", "urb", "rur", "urb", "rur")
area
```
]

.pull-right[
```{r}
temperatura <- c(20, 23, 18, 20, 14, 17)
temperatura
```

]

---
## Tipos de objetos

### Vetores

#### Coerci√≥n

- No es posible mezclar datos de dos clases en un vector.

- Si lo intenta, **R** exhibir√° el comportamiento conocido como **coerci√≥n**.

```{r}
aa <- c(1, 2, 3, 4, "a")
class(aa)

bb <- c(1L, 2L, 3.50, 4.1)
class(bb)
```

> **DOMINANTE** character > numeric > integer > logical **RECESIVO**

---
## Tipos de objetos

### Factor

- Colecci√≥n **unidimensional** de valores.

- Almacena datos de la clase `character`.

- El factor representa medidas de una variable *cualitativa*, que puede ser *nominal* u *ordinal*.

```{r}
estacion <- c("verano", "verano", "primavera", "primavera", "primavera", "otono", "invierno",  "invierno")

as.factor(estacion)
```

<!--
Los factores corresponden a una colecci√≥n unidimensional de valores de la clase "character".

Los factores se utilizan para representar variables categ√≥ricas. Las variables categ√≥ricas pueden ser nominales (desordenadas) u ordinales (ordenadas).

Los objetos de tipo factor se crean utilizando la funci√≥n factor() en R. Los posibles valores de un objeto de tipo factor se denominan niveles (levels).

De esta manera, un factor contendr√° un vector de valores y sus valores representan niveles.

Por ejemplo, puedo tener un factor que represente las veces que he muestreado en el campo. En este caso, realic√© dos muestreos en "verano", tres en "primavera", uno en "oto√±o" y uno en "invierno".

Como estamos trabajando con factores, R entender√° que valores iguales a "verano" se refieren al mismo nivel que mi factor.
-->

---
## Tipos de objetos

### Matrix

- Colecci√≥n **bidimensional** de valores:

  - l√≠neas (por ejemplo, unidades de muestreo)
  
  - columnas (variables cuantitativas o cualitativas, por ejemplo: horario, tubo de ensayo, ubicaci√≥n)
  
- Almacena datos de una √∫nica clase.

.center[<img src="figs/8-matrixe.png" style="width: 35%;">]

---
## Tipos de objetos

### Matrix

- Colecci√≥n **bidimensional** de valores:

  - l√≠neas (por ejemplo, unidades de muestreo)
  
  - columnas (variables cuantitativas o cualitativas, por ejemplo: horario, tubo de ensayo, ubicaci√≥n)
  
- Almacena datos de una √∫nica clase.

.center[<img src="figs/9-matrixe2.png" style="width: 68%;">]

.center[Volume respirat√≥rio forzado (vez)]

---
## Tipos de objetos

### Matrix

Para construir matrices en **R**:

Combinaci√≥n de vectores: 

```{r}
# Creamos dos vectores con r
v1 <- c(1, 2, 3); v2 <- c(4, 5, 6)
```


.pull-left[
- Combinar vectores por l√≠nea - `rbind()`.

```{r}
# Combinamos los vectores verticalmente, 
# uno debajo del otro
vr <- rbind(v1, v2)
vr
```

]

.pull-right[
- Combinar vectores por columna - `cbind()`.

```{r}
# Combinamos los vectores horizontalmente, 
# uno al lado del otro.
vr <- cbind(v1, v2)
vr
```
]

---
## Tipos de objetos

### Array

- Tiene **n dimensiones** - "varias matrices emparejadas".

- Tiene filas, columnas y dimensiones (`arrays`).

- Almacena datos de una √∫nica clase.

<img src="figs/10-array.png" style="width: 85%;">

---
## Tipos de objetos

### Array

Construir un array en **R**: `array()`.

```{r}
vc <- 1:8; vc # datos

ar <- array(data = vc, dim = c(2, 2, 2)) # array
ar
```

---
## Tipos de objetos

.pull-left[
- El tipo del objeto est√° relacionado con la **clase** y la **estructura/organizaci√≥n**.

- Pueden estar formados por elementos de la misma clase o de clases diferentes.

- Pueden tener de una hasta n dimensiones.

- En **R** tenemos cinco estructuras:
  - `Vector`
  - `Matrix`
  - `Array`
  - `List`
  - `Data frame`
]

.pull-right[
<img src="figs/11-p2.png" style="width: 85%;">
]

---
## Tipos de objetos

### Data frame

- Colecci√≥n **bidimensional** de valores:

  - l√≠neas (unidades de muestreo)
  
  - columnas (variables cuantitativas o cualitativas, por ejemplo: horario, tubo de ensayo, ubicaci√≥n)
  
- Almacena datos de ‚â† clases.

.pull-left[<img src="figs/12-dataframe.png" style="width: 70%;">]

--

.pull-right[
<br>
<img src="figs/13-excel3.png" style="width: 85%;">]

---
## Tipos de objetos

### Data frame

C√≥mo construir un **data frame** en **R**: `data.frame()`. 

<img src="figs/6-vecdatae.png" style="width: 100%;">

---
## Tipos de objetos

### Data frame

C√≥mo construir un **data frame** en **R**: `data.frame()`. 

.pull-left[
```{r}
# Vamos a crear 4 vectores
area <- c("urb", "rur", "urb", "rur", "urb", "rur")
mes <- c(1, 1, 2, 2, 3, 3)
presencia <- c(T, T, F, F, T, T)
temperatura <- c(20.1, 21.2, 22.2, 23.8, 22.9, 23)

area; mes; presencia; temperatura
```
]

--

.pull-right[
```{r}
# Unamos los vetores en un dataframe. 
# Observe que cada vector se convierte en una columna.
dtf <- data.frame(area, mes, presencia, temperatura)
dtf
```
]

---
## Tipos de objetos

### List

- Colecci√≥n **unidimensional** de objetos.
  
- Almacena datos de ‚â† tipos (`vectors`, `arrays`, `data frame`, `lists`).

- Es un vector especial que acepta objetos como elementos.
  
> Muchas funciones que usamos para analizar datos en R tienen listas como salida.


<img src="figs/15-listae.png" style="width: 100%;">

---
## Tipos de objetos

### List

crea una **lista** en r: `list()`.

```{r}
lis <- list(vr,  
            temperatura,
            factor(c("a", "a", "b", "c")))
lis
```


---
name: manejo
class: middle, center

# Manejo de datos

---
## Manejo de datos

.pull-left[
- Los objetos son conjuntos *indexados* - Esto nos permite acceder a cada elemento de manera individual.

- Comprender la indexaci√≥n es fundamental para manipular datos en **R**.

- Usamos corchetes (`[]`) para acceder a la posici√≥n de los elementos de un objeto: 
  - **[L, C, D]**.
]

.pull-right[<img src="figs/76-index.png" style="width: 100%;">]

<!--
Una vez que hemos aprendido a crear objetos en R, es hora de que aprendamos a manipularlos.

Los objetos son conjuntos *indexados* de valores, o sea, es posible acceder a cada elemento de un objeto de manera individual.

La indexaci√≥n es como una etiquetas, y desde estas etiquetas es posible reconocer y seleccionar los elementos del objeto. 

En R usamos corchetes para acceder a la posici√≥n del elemento que nos interesa y la cantidad de elementos presentes en los corchetes depender√° de la cantidad de dimensiones que tendremos en nuestros objetos.

-->

---
## Manejo de datos

### Indexaci√≥n

#### Gesti√≥n de datos unidimensionales `[L]`

- Seleccionar elementos

.center[<img src="figs/2-vetor1.png" style="width: 40%;">]

- No **R**:

```{r}
ve <- c(11, 12, 13, 14, 15, 16)
ve
```

---
## Manejo de datos

### Indexaci√≥n

#### Gesti√≥n de datos unidimensionales `[L]`

- Seleccionar elementos

.center[<img src="figs/2-vetor1.png" style="width: 40%;">]

- No **R**:

```{r}
ve <- c(11, 12, 13, 14, 15, 16)
ve
```

.pull-left[
```{r}
ve[3]
```
]

.pull-right[
```{r}
ve[2:4]
```
]

<!--
Comencemos seleccionando elementos en un objeto unidimensional.

¬øRecuerdas los vectores que vimos en la √∫ltima clase? Los vectores son objetos unidimensionales que almacenan elementos de una misma clase.

Aqu√≠ tenemos el vector VE como ejemplo. Este vector contiene valores entre 11 y 16, y podemos ver debajo de √©l que cada valor tiene una posici√≥n dentro del vector.

Cada posici√≥n tiene un valor que viene dado por el orden en que se agreg√≥ los valores al objeto.

De esa forma, si quiero acceder al primer elemento (o la primera posici√≥n) de mi vector, debo escribir el nombre de mi objeto y, entre corchetes, el n√∫mero "1". Cuando ejecuto esta funci√≥n, R devuelve el n√∫mero que se almacen√≥ en la posici√≥n 1 de mi vector VE.
--> 

---
## Manejo de datos

### Indexaci√≥n

#### Gesti√≥n de datos unidimensionales `[L]`

- Quitar elementos

.center[<img src="figs/5-vetor4.png" style="width: 40%;">]

- No **R**:

```{r}
ve <- c(11, 12, 13, 14, 15, 16)
ve
```

.pull-left[
```{r}
ve[-1]
```
]

.pull-right[
```{r}
ve[-c(2, 5)]
```
]
---
## Manejo de datos

### Indexaci√≥n

#### Gesti√≥n de datos bidimensionales `[L,C]`

- Seleccionar elementos

.center[
<img src="figs/77-bidim.png" style="width: 70%;">
]

---
## Manejo de datos

### Indexaci√≥n

#### Gesti√≥n de datos bidimensionales `[L,C]`

- Seleccionar elementos

```{r}
ma <- matrix(data = (c(1:25)), nrow = 5, ncol = 5, byrow = TRUE) # crear una matriz
ma

ma[1,2] # seleccionar el valor de la l√≠nea uno y la segunda columna.
```

---
## Manejo de datos

### Indexaci√≥n

#### Gesti√≥n de datos bidimensionales `[L,C]`

- Seleccionar elementos

```{r}
ma[3:4, c(3, 5)] # seleccione las lineas 3 y 4 y las columnas 3 y 5

ma[c(1,5), 3:5] # seleccione las lineas 1 y 5 y las columnas entre 3 - 5
```

> Es posible seleccionar m√°s de una fila y columna al mismo tiempo.

---
## Manejo de datos

### Indexaci√≥n

#### Gesti√≥n de datos bidimensionales `[L,C]`

- Quitar elementos

.pull-left[
**Antes**
```{r}
ma
```
]

.pull-right[
**Despu√©s**
```{r}
ma[-2, -2] # menos la fila dos y la columna dos
```
]

---
## Manejo de datos

### Indexaci√≥n

#### Gesti√≥n de datos bidimensionales `[L,C]`

- Quitar elementos

.pull-left[
**Antes**
```{r}
ma
```
]

.pull-right[
**Despu√©s**
```{r}
ma[-2:-3, -c(1,5)] 
```
]

---
## Manejo de datos

### Indexaci√≥n

#### Gesti√≥n de datos bidimensionales `[L,C]`

- Tambi√©n podemos usar el nombre de las filas y columnas para manejar los datos: `[nombre_linea, nombre_columna]`.

```{r}
rownames(ma) <- c("l1", "l2", "l3", "l4", "l5") # nombre en las lineas
colnames(ma) <- c("c1", "c2", "c3", "c4", "c5") # nombre en las columnas
ma # la tabla

ma["l1", "c2"] # selecciona linea 2 y columna 3
```

---
## Manejo de datos

### Indexaci√≥n

#### Gesti√≥n de *data frame* `$`:

> El operador `$` se utiliza para extraer elementos de una columna com nombre:

```{r}
mb <- data.frame(ma)
class(mb)

mb$c1 # columna 1

mb$c2 # columna 2
```

---
## Manejo de datos

### Indexaci√≥n

#### Gesti√≥n de *data frame* con `$`:

- agregar una nueva columna:

```{r}
# despu√©s
mb$ID <- 1:5
mb
```

---
## Manejo de datos

### Seleccionar elementos por condici√≥n (**vector**)

<br>
.center[<img src="figs/14-cond.png" style="width: 40%;">]
<br>

> Operadores relacionales con salidas** booleanas** (VERDADERO o FALSO). 

---
## Manejo de datos

### Seleccionar elementos por condici√≥n (**vector**)

<br>
.center[<img src="figs/15-cond2.png" style="width: 40%;">]

> Comparaci√≥n de objetos: **A** *con* **B**. <br>
> Operadores relacionales con salidas** booleanas** (VERDADERO o FALSO). 

---
## Manejo de datos

### Seleccionar elementos por condici√≥n (**vector**)

- Operadores relacionales con salidas booleanas (VERDADERO o FALSO). 
```{r}
A <- 6; B <- 28
```

.pull-left[
```{r}
A == B # A es igual a B?
A != B # A es distinto de B?
A > B # A es mayor que B?
```
]

.pull-right[
```{r}
A <= B # A menor o igual que?
A < B # A es menor que B?
A %in% B # A en B?
```
]

---
## Manejo de datos

### Seleccionar elementos por condici√≥n (**vector**)

- Operadores relacionales con salidas **booleanas** (VERDADERO o FALSO). 
```{r}
ve <- c(10, 15, 30, 32, 50, 68, 70)
ve
```

.pull-left[
```{r}
# ¬øQu√© elementos tienen el valor = 30?
ve == 30 

# ¬øQu√© elementos tienen un valor superior a 30?
ve > 30
```
]

.pull-right[
```{r}
# ¬øQu√© elementos tienen el valor inferior a 50?
ve < 50

# ¬øQu√© elementos tienen valores mayores o iguales a 45?
ve >= 45
```
]

---
## Manejo de datos

### Seleccionar elementos por condici√≥n (**vector**)

- Elementos del vector

  - ¬øQu√© pasa si, en lugar de querer saber cu√°l valor coincide con la condici√≥n y cu√°l no, quisiera seleccionar los valores relacionados con esa condici√≥n?

<br>
.center[<img src="figs/12-cond_vector.png" style="width: 60%;">]

.pull-left[
```{r}
# Antes:
ve < 30
```
]

.pull-right[
```{r}
# Despu√©s:
ve[ve < 30]
```
]

---
## Manejo de datos

### Seleccionar elementos por condici√≥n (**vector**)

- Elementos del vector

.pull-left[
```{r}
# ¬øQu√© valor/es es igual a 30?
ve[ve == 30]

# ¬øQu√© valor/es valen menos de 50?
ve[ve < 50]

# ¬øve esta inserido en el conjunto 32?
ve[ve %in% 32]
```
]

.pull-right[
```{r}
# ¬øQu√© valor/es es/son superior/es a 30?
ve[ve > 30]

# ¬øQu√© valor/es es/son mayores o iguales a 45?
ve[ve >= 45]

# ¬øQu√© valor/es es/son distintos de 10?
ve[ve != 10]
```
]

---
## Manejo de datos

### Seleccionar elementos por condici√≥n (**matrix/data.frame**)

<br>
.center[<img src="figs/16-cond3.png" style="width: 80%;">]
<br>

> Operadores relacionales con salidas** booleanas** (VERDADERO o FALSO). 

---
## Manejo de datos

### Seleccionar elementos por condici√≥n (**matrix/data.frame**)

- Operadores relacionales con salidas **booleanas** (VERDADERO o FALSO). 
```{r}
ma <- matrix(c(1:12), nrow = 3)
ma
```

.pull-left[
```{r}
# ¬øQu√© elementos tienen los valores
# = 5 o 6?
ma == c(5, 6)
```
]

.pull-right[
```{r}
# ¬øQu√© elementos tienen el valor 
# inferior a 8?
ma < 8
```
]

---
## Manejo de datos

### Seleccionar elementos por condici√≥n (**matrix/data.frame**)

- Elementos de la **matrix/data.frame**.

  - ¬øQu√© pasa si, en lugar de querer saber cu√°l valor coincide con la condici√≥n y cu√°l no, quisiera seleccionar los valores relacionados con esa condici√≥n?

<br>
.center[<img src="figs/44-condmatrix.png" style="width: 50%;">]
<br>

```{r}
ma[ma == 8]
```

---
## Manejo de datos

### Seleccionar elementos por condici√≥n (**matrix/data.frame**)

- Operadores relacionales con salidas **booleanas** (VERDADERO o FALSO). 

```{r}
# ¬øLa matriz contiene los valores 5, 7 y 15?
ma[ma == c(5, 7, 15)]

# ¬øEst√° la matriz contenida en c(0, 2, 6, 18)?
ma[ma %in% c(0, 2, 6, 18)]

# ¬øLa matriz es diferente de 5?
ma[ma != 5]
```

---
## Manejo de datos

### Seleccionar elementos por condici√≥n (**data.frame**)


<br>
.center[<img src="figs/13-cond_dataf.png" style="width: 80%;">]
<br>


- Podemos usar `$` y `selecci√≥n por condici√≥n` para seleccionar solo las filas de un **data.frame** que coinciden con una condici√≥n. 

---
## Manejo de datos

### Seleccionar elementos por condici√≥n (**data.frame**)

.pull-left[
```{r}
edad <- c(20, 25, 30, 45)
sexo <- c("F", "F", "M", "M")
enfermedad <- c(T, T, F, F)

datos <- data.frame(edad, sexo, enfermedad)
datos
```
.center[<img src="figs/13-cond_dataf.png" style="width: 100%;">]

]

.pull-right[
```{r}
datos[datos$edad <= 30,] 

datos[datos$sexo == "F",] 

datos[datos$enfermedad == T,] 

```
]

---
name: funciones
class: middle, center

# Funciones

---
## Funciones

- Mientras que los **objetos** son *nombres que contienen valores*, las **funciones** son *nombres que contienen un c√≥digo R*.

.center[<img src="figs/23-func.png" style="width: 40%;">]

-  La idea b√°sica de una funci√≥n es encapsular un c√≥digo que se pueda invocar en cualquier momento en R. 
<br>

<br>
.center[<img src="figs/24-func2.png" style="width: 55%;">]

> Usamos algunas funciones hasta ahora: `c()`, `rep()`, `data.frame()`, `class()`, otros.

---
## Funciones

### Argumentos

- Las funciones toman **argumentos**.

- Los argumentos son los valores u objetos que ponemos entre par√©ntesis y que las funciones necesitan para funcional (calculando un resultado).

- Por ejemplo, la funci√≥n `class()` necesita recibir un objeto para investigar la clase y devolverlo:

```{r}
a <- 3
class(a)
```

> En este caso, "a" es el argumento que incluimos en la funci√≥n `class()`.

---
## Funciones

### Argumentos

- Para las funciones que toman m√°s de un argumento, tenemos que separar los argumentos con comas.

- Por ejemplo, cuando usamos la concatenaci√≥n (`c()`) para crear un **vector**.

```{r}
ve <- c(1, 2, 3, 4)
```

--
**Importante:**

**!!** Observe c√≥mo debe ser la entrada de valores para que funcione la funci√≥n.

```{r eval=FALSE, include=TRUE}
class(1, 2, 3, 4)
```
<small> \# simpleError in class(1, 2, 3, 4): 4 argumentos passados para 'class', que requer 1 </small>

```{r}
class(ve)
```

---
## Funciones

### Argumentos

Los argumentos de las funci√≥nes tambi√©n tienen **nombre**, que pueden o no ser usando en la funci√≥n. Por ejemplo a funci√≥n `rep()`.

```{r}
rep(x = c(1, 3), 
    times = 2) 
```

- **x**: valores que se repetir√°n.
- **times**: Un vector de valor entero que da el n√∫mero (no negativo) de veces que se repite cada elemento si tiene una longitud (x), o que se repite todo el vector si tiene una longitud 1.

---
## Funciones

- **¬ø**Existe una funci√≥n lista para mi problema**?**

- **¬ø**C√≥mo averiguar el nombre de esta funci√≥n**?**

.center[<img src="figs/26-usagi.png" style="width: 50%;">]

---
name: paquetes
class: middle, center

# Paquetes

---
## Paquetes

- Las funciones provienen de dos fuentes: 
  1. paquetes **R** est√°ndar que se cargan siempre que trabajamos con el lenguaje 
  2. paquetes que instalamos y cargamos por comandos.

- B√°sicamente, un paquete es una convenci√≥n para organizar y estandarizar la distribuci√≥n de funciones **R**.

<br>
.center[<img src="figs/27-paquetes.png" style="width: 40%;">]

---
## Paquetes

- La principal motivaci√≥n de crear un paquete **R** es de organizar y compartir funciones de nuevos m√©todos y/o implementaciones creadas y que son √∫tiles para otras personas.

- En general, descargamos paquetes de dos fuentes: [CRAN](https://cran.r-project.org/) y [GitHub](https://github.com/). 

<br>
.center[<img src="figs/28-crangit.png" style="width: 50%;">]

---
## Paquetes

### Instalaci√≥n

- Para instalar paquetes desde **CRAN** usamos el comando `install.packages("nombre_paquete")`.

```{r eval=FALSE, include=TRUE}
install.packages("ggplot2") # Para instalar el paquete "ggplot2"
```

> **\*** Tenga en cuenta que el nombre del paquete siempre debe ir entre comillas para la instalaci√≥n.

<br>
- Compruebe si el paquete se ha instalado:

.pull-left[
```{r eval=FALSE, include=TRUE}
library()
```
> abre una nueva pesta√±a en R escrita "Paquetes R disponibles".

]
.pull-right[<img src="figs/29-paqinst.png" style="width: 100%;">]


---
## Paquetes

### Instalaci√≥n

- Para instalar paquetes de **Github**, usamos el paquete `devtools`: `install_github("direccion/nombre_paquete")`.

- Para hacer esto, necesitaremos la direcci√≥n y el nombre del paquete de un repositorio de GitHub (<https://github.com/tidyverse/dplyr>)

```{r eval=FALSE, include=T}
# Instalar el paquete 'devtools'
install.packages("devtools")

# Cargar el paquete para su uso
library(devtools)

# Incluir la direcci√≥n de descarga 
# del paquete do github en install_github()
install_github("tidyverse/dplyr")
```

---
## Paquetes

### Instalaci√≥n

- Para instalar paquetes de **Github**, usamos el paquete `devtools`:

<img src="figs/30-fromgit.png" style="width: 80%;">

---
## Paquetes

### Instalaci√≥n

- Solo instalamos los paquetes una vez.

- Los paquetes se descargan a trav√©s de la internet.

- El nombre del paquete debe estar entre comillas (`"paquete_nombre"`), independientemente de si lo vamos a descargar de **CRAN** o **GitHub**.

- Para cargar paquetes en R usamos la funci√≥n `library(paquete_nombre`). 
  - En este caso no es necesario incluir comillas.
  - Cargamos paquetes para usar sus funciones. 

```{r eval=FALSE, include=TRUE}
library(ggplot2)
library(dplyr)
```

---
## Paquetes

### Actualizaci√≥n

- Los paquetes no se actualizan solos.

- Es necesario actualizarlos de vez en cuando.

- ¬°Es un proceso que lleva tiempo!

```{r eval=FALSE, include=TRUE}
update.packages(ask = FALSE)
```

### Direcci√≥n en mi compu

- ¬øD√≥nde est√°n los paquetes?

  - Windows: `C:/Users/nombre_del_compu/Documentaci√≥n/R/win-library/versi√≥n_r`
  - Unix (Linux o MacOS): `/home/nombre_del_compu/R/tipo_compu/versi√≥n_r`

---
## Paquetes

### Paquetes √∫til para empezar! (clase manana)

- **tidyverse** 
  - es una colecci√≥n obstinada de paquetes R dise√±ados para la ciencia de datos. 

.center[<img src="figs/25-tidyverse.png" style="width: 60%;">]

---
## Paquetes

### Cantidad de paquetes disponibles
```{r}
nrow(available.packages(repos = "http://cran.r-project.org"))
```

.center[<img src="figs/31-sailor_suprise.gif" style="width: 45%;">]

---
## Paquetes

### Help! (ayuda)

- El "help" de **R** es muy √∫til cuando necesitamos ayuda para comprender una funci√≥n.

```{r eval=FALSE, include=TRUE}
help("sum") 
# es necesario encerrar el nombre de 
# la funci√≥n entre comillas.
```

.center[<img src="figs/32-help.png" style="width: 50%;">]

---
## Paquetes

###  ¬øC√≥mo citar la **R**?

```{r}
citation()
```

---
## Paquetes

###  ¬øC√≥mo citar un paquete?

```{r}
citation("ggplot2")
```

---
class: middle, center

##  ¬°Es todo por hoy!
### ¬°Gracias por tu presencia!

<img src="figs/33-fim.jpg" style="width: 70%;">

---
## Si tenemos tiempo üïó

### Resuelve los siguientes ejercicios

1. Cree un vector que contenga tres especies de mam√≠feros y gu√°rdelo en un objeto.

2. Cree una matriz de datos con valores aleatorios entre 0 y 100 (tip: `sample()`). La matriz debe contener 3 filas y 4 columnas.

3. Nombra las l√≠neas de tu matriz con el vector que creaste en el **ejercicio 1**. Las columnas deben contener el nombre de las estaciones.


4. Transforme su matriz en un data frame. 

5. ¬øQu√© especie fue m√°s abundante en primavera? ¬øY cu√°l fue el menos abundante en invierno?

---
class: middle

<br> 

<br>

<br>

### Soma dos quadrados

- `r icons::icon_style(icons::fontawesome("github"), fill = "#000000")` [Soma-Dos-Quadrados/introduccionalR](https://github.com/Soma-dos-Quadrados/introduccionalR)
- `r icons::icon_style(icons::fontawesome("youtube"), fill = "#000000")` [/somaquadrados](https://www.youtube.com/channel/UC8_OHjnszxRiit92ZJlNH4A)
- `r icons::icon_style(icons::fontawesome("twitch"), fill = "#000000")` [/somadosquadrados](https://www.twitch.tv/somaquadrados)
- `r icons::icon_style(icons::fontawesome("twitter"), fill = "#000000")` [@somadosquadrados](https://twitter.com/somaquadrados)


### Mar√≠lia Melo Favalesso 

- `r icons::icon_style(icons::fontawesome("envelope", style = "solid"), fill = "#000000")` [mariliabioufpr@gmail.com](mariliabioufpr@gmail.com)
- `r icons::icon_style(icons::fontawesome("globe-americas", style = "solid"), fill = "#000000")` [www.mmfava.com](www.mmfava.com)
- `r icons::icon_style(icons::fontawesome("github"), fill = "#000000")` [ /mmfava](https://github.com/mmfava)

